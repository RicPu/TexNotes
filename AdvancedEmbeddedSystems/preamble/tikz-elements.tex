\usepackage{circuitikz}

\definecolor{myblue}{HTML}{4698ED}
\def\muxcolor{orange!40}
\def\nonarchcolor{yellow!40}
\def\processingcolor{green!70!blue!30!}
\def\storagecolor{myblue!50}
\def\controlcolor{cyan!80!blue}

\tikzset{instr_mem/.style={
            muxdemux,
            muxdemux def={
                    Lh=6, Rh=6, w=5, square pins=1,
                    inset Lh=0, inset Rh=0, inset w=0,
                    NL=2, NR=2, NB=0, NT=0,
                },
            muxdemux label ={
                    L1=A,
                    R1=Instruction,
                },
            draw only left pins={1},
            draw only right pins={1},
            font=\scriptsize\ttfamily\bfseries,
            circuitikz/muxdemuxes/fill=\storagecolor,
            circuitikz/muxdemux/inner label font=\scriptsize\ttfamily,
        },
}

\tikzset{RF/.style={
            muxdemux,
            muxdemux def={
                    Lh=8, Rh=8, w=5, square pins=1,
                    inset Lh=0, inset Rh=0, inset w=0,
                    NL=4, NR=4, NB=0, NT=5,
                },
            muxdemux label ={
                    L1=R1, L2=R2, L3=WR, L4=WD,
                    R2=RD1, R3=RD2,
                    T4=RegWrite
                },
            draw only top pins={4},
            draw only right pins={2, 3},
            font=\scriptsize\ttfamily\bfseries,
            circuitikz/muxdemuxes/fill=\storagecolor,
            circuitikz/muxdemux/inner label font=\scriptsize\ttfamily,
        },
}

\tikzset{ALU/.style={
            muxdemux,
            muxdemux def={
                    Lh=4.5, Rh=1.5, w=2.5, square pins=1,
                    inset Lh=1, inset Rh=0, inset w=0.75,
                    NL=2, NR=1, NB=0, NT=0
                },
            external pins width=1,
            draw only left pins={1},
            font=\scriptsize\ttfamily\bfseries,
            circuitikz/muxdemuxes/fill=\processingcolor,
            circuitikz/muxdemux/inner label font=\scriptsize\ttfamily,
        },
}

\tikzset{data_mem/.style={
            muxdemux,
            muxdemux def={
                    Lh=6, Rh=6, w=4, square pins=1,
                    inset Lh=0, inset Rh=0, inset w=0,
                    NL=3, NR=3, NB=3, NT=6,
                },
            muxdemux label ={
                    L1=A, L3=WD,
                    R3=RD,
                    T4=MemWrite,
                    B2=MemRead
                },
            draw only left pins={1,3},
            draw only right pins={3},
            draw only top pins={4},
            draw only bottom pins={2},
            font=\scriptsize\ttfamily\bfseries,
            circuitikz/muxdemuxes/fill=\storagecolor,
            circuitikz/muxdemux/inner label font=\scriptsize\ttfamily,
        },
}

\tikzset{extend/.style={
            muxdemux,
            muxdemux def={
                    Lh=2, Rh=2.5, w=5, square pins=1,
                    inset Lh=0, inset Rh=0, inset w=0,
                    NL=1, NR=1, NB=0, NT=0,
                },
            font=\scriptsize\ttfamily\bfseries,
            circuitikz/muxdemuxes/fill=\processingcolor,
            circuitikz/muxdemux/inner label font=\scriptsize\ttfamily,
        },
}

\tikzset{mux2to1/.style={
            muxdemux,
            muxdemux def={
                    Lh=3, Rh=2.4, w=1, square pins=1,
                    inset Lh=0, inset Rh=0, inset w=0,
                    NL=2, NR=1, NB=0, NT=0,
                },
            font=\scriptsize\ttfamily\bfseries,
            circuitikz/muxdemuxes/fill=\muxcolor,
            circuitikz/muxdemux/inner label font=\small,
        },
}

\tikzset{ff_we/.style={
	muxdemux,
	muxdemux def={
			Lh=3, Rh=3, w=2, square pins=1,
			inset Lh=0, inset Rh=0, inset w=0,
			NL=1, NR=1, NB=0, NT=0,
		},
	muxdemux label ={
			cT1=1,
			B1=WE,
		},
    font=\scriptsize\ttfamily\bfseries,
	circuitikz/muxdemuxes/fill=\storagecolor,
	},
}
